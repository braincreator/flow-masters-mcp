# AI Agency Landing Page - Form Integration Setup

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### 1. –ö–æ–ª–ª–µ–∫—Ü–∏–∏ CMS

- ‚úÖ **FormSubmissions** - –∫–æ–ª–ª–µ–∫—Ü–∏—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–∞—è–≤–æ–∫
- ‚úÖ **Forms** - –∫–æ–ª–ª–µ–∫—Ü–∏—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–æ—Ä–º
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ServiceRegistry –∏ TelegramService

### 2. API Endpoints

- ‚úÖ `/api/form-submissions` - –Ω–æ–≤—ã–π API –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–æ—Ä–º
- ‚úÖ `/api/v1/leads` - legacy API (–æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã AI Agency

### 3. Frontend Components

- ‚úÖ **ModalLeadForm** - –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ñ–æ—Ä–º—ã
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ ID —Ñ–æ—Ä–º—ã –∏–∑ CMS
- ‚úÖ –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —É—Å–ø–µ—Ö–∞
- ‚úÖ –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–∞ –≤ Telegram –±–æ—Ç
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π –∑–∞–≥—Ä—É–∑–∫–∏

### 4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

- ‚úÖ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (—Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–æ–∫–µ–Ω–æ–≤)
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è —á–µ—Ä–µ–∑ ServiceRegistry
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ CMS —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### 1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º—ã

–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É: `http://localhost:3001/ru/test-form`

### 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

```tsx
import { ModalLeadForm } from './ModalLeadForm'

// –í –≤–∞—à–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
;<ModalLeadForm
  open={modalOpen}
  onClose={() => setModalOpen(false)}
  title="–û—Å—Ç–∞–≤—å—Ç–µ –∑–∞—è–≤–∫—É"
  description="–ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è"
  actionType="pricing" // –∏–ª–∏ –¥—Ä—É–≥–æ–π —Ç–∏–ø
/>
```

### 3. API –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```javascript
// –ü—Ä—è–º–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ API
const response = await fetch('/api/form-submissions', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    form: 'FORM_ID', // ID —Ñ–æ—Ä–º—ã –∏–∑ CMS
    submissionData: [
      { field: 'name', value: '–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è' },
      { field: 'phone', value: '+7 999 123 45 67' },
      { field: 'email', value: 'user@example.com' },
      { field: 'comment', value: '–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π' },
      { field: 'actionType', value: 'test' },
    ],
  }),
})
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### 1. –°–æ–∑–¥–∞–π—Ç–µ Telegram –±–æ—Ç–∞

1. –ù–∞–ø–∏—à–∏—Ç–µ @BotFather –≤ Telegram
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–≥–æ –±–æ—Ç–∞ –∫–æ–º–∞–Ω–¥–æ–π `/newbot`
3. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞

### 2. –ü–æ–ª—É—á–∏—Ç–µ Chat ID

1. –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø—É –∏–ª–∏ –Ω–∞–ø–∏—à–∏—Ç–µ –µ–º—É –ª–∏—á–Ω–æ
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç—É
3. –û—Ç–∫—Ä–æ–π—Ç–µ `https://api.telegram.org/bot<YOUR_BOT_TOKEN>/getUpdates`
4. –ù–∞–π–¥–∏—Ç–µ `chat.id` –≤ –æ—Ç–≤–µ—Ç–µ

### 3. –û–±–Ω–æ–≤–∏—Ç–µ .env.local

```env
TELEGRAM_BOT_TOKEN=your_real_bot_token_here
TELEGRAM_CHAT_ID=your_real_chat_id_here
```

### 4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä

```bash
pnpm dev:fast
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞

–°–ª–µ–¥–∏—Ç–µ –∑–∞ –ª–æ–≥–∞–º–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏:

- `Processing event form.submitted` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞—è–≤–∫–∏
- `Telegram service is not configured` - –Ω—É–∂–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram
- `No active integrations found` - –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –µ—Å–ª–∏ –Ω–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ CMS

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å Payload CMS
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "Content" ‚Üí "Form Submissions"
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –∑–∞—è–≤–∫–∏

## üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ URL Telegram –±–æ—Ç–∞

–í —Ñ–∞–π–ª–µ `ModalLeadForm.tsx` –Ω–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É:

```tsx
href = 'https://t.me/flow_masters_bot'
```

–ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ URL –≤–∞—à–µ–≥–æ –±–æ—Ç–∞.

### –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π

–í —Ñ–∞–π–ª–µ `FormSubmissions/index.ts` –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç Telegram —Å–æ–æ–±—â–µ–Ω–∏—è:

```typescript
const message = `üöÄ –ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞ —Å AI Agency –ª–µ–Ω–¥–∏–Ω–≥–∞!\n\n${submissionText}\n\n–í—Ä–µ–º—è: ${new Date(doc.createdAt).toLocaleString('ru-RU')}`
```

## üéØ –°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- ‚úÖ –ö–æ–ª–ª–µ–∫—Ü–∏–∏ CMS —Å–æ–∑–¥–∞–Ω—ã –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- ‚úÖ API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã
- ‚úÖ –ê–Ω–∏–º–∞—Ü–∏–∏ –∏ UX —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∞
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö Telegram —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ

## üìù ID —Å–æ–∑–¥–∞–Ω–Ω–æ–π —Ñ–æ—Ä–º—ã

Form ID: `683d9c39e6e7cfc7c9c76881`
–ù–∞–∑–≤–∞–Ω–∏–µ: "AI Agency ‚Äî –û—Å–Ω–æ–≤–Ω–∞—è –∑–∞—è–≤–∫–∞ (v3)"

### –ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π:

- v1 (`683d7604d27ebdeff3742023`): –ü–µ—Ä–≤–∞—è –≤–µ—Ä—Å–∏—è —Å –ø—Ä–æ–±–ª–µ–º–æ–π confirmationMessage
- v2 (`683d810de6e7cfc7c9c7681e`): –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º richText –ø–æ–ª–µ–º
- v3 (`683d9c39e6e7cfc7c9c76881`): –§–∏–Ω–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π Lexical —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞

### ‚úÖ –ü—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã:

- –û—à–∏–±–∫–∞ "parseEditorState: type undefined + not found" –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞
- confirmationMessage —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏
- Lexical —Ä–µ–¥–∞–∫—Ç–æ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- –î–æ–±–∞–≤–ª–µ–Ω—ã —É–¥–æ–±–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä

### üé® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ Lexical —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞:

**–ë–∞–∑–æ–≤–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**

- **–ñ–∏—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç** (Bold) - –∫–Ω–æ–ø–∫–∞ B –∏–ª–∏ Ctrl+B
- _–ö—É—Ä—Å–∏–≤_ (Italic) - –∫–Ω–æ–ø–∫–∞ I –∏–ª–∏ Ctrl+I
- <u>–ü–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ</u> (Underline) - –∫–Ω–æ–ø–∫–∞ U –∏–ª–∏ Ctrl+U

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞:**

- –ó–∞–≥–æ–ª–æ–≤–∫–∏ H1-H4 - –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ —Ç–∏–ø–æ–≤ –±–ª–æ–∫–æ–≤
- –ü–∞—Ä–∞–≥—Ä–∞—Ñ—ã - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ç–µ–∫—Å—Ç

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã:**

- –°—Å—ã–ª–∫–∏ - –∫–Ω–æ–ø–∫–∞ –≤—Å—Ç–∞–≤–∫–∏ —Å—Å—ã–ª–∫–∏ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Å–≤—è–∑–∏ —Å –¥—Ä—É–≥–∏–º–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏

**–ü–∞–Ω–µ–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤:**

- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Å–≤–µ—Ä—Ö—É —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
- –í—Å–ø–ª—ã–≤–∞—é—â–∞—è –ø–∞–Ω–µ–ª—å –ø—Ä–∏ –≤—ã–¥–µ–ª–µ–Ω–∏–∏ —Ç–µ–∫—Å—Ç–∞
- –£–¥–æ–±–Ω—ã–µ –≥–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –†–µ–¥–∞–∫—Ç–æ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å –±–∞–∑–æ–≤—ã–º –Ω–∞–±–æ—Ä–æ–º —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ (—Å–ø–∏—Å–∫–∏, —Ü–∏—Ç–∞—Ç—ã, –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ) –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–µ–π Payload CMS.
