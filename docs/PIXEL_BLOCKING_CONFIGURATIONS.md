# üö´ –ù–∞—Å—Ç—Ä–æ–π–∫–∏, –±–ª–æ–∫–∏—Ä—É—é—â–∏–µ –ø–∏–∫—Å–µ–ª–∏ –∏ —Å—á–µ—Ç—á–∏–∫–∏

## üìã –û–±–∑–æ—Ä

–≠—Ç–æ –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –≤—Å–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º –≤ –ø—Ä–æ–µ–∫—Ç–µ, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –∏ —Ä–∞–±–æ—Ç—É –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø–∏–∫—Å–µ–ª–µ–π.

## üîß **1. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∏–∫—Å–µ–ª–µ–π –≤ –∞–¥–º–∏–Ω–∫–µ (Payload CMS)**

### **–û—Å–Ω–æ–≤–Ω—ã–µ –±–ª–æ–∫–∏—Ä—É—é—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**

#### **1.1 –°—Ç–∞—Ç—É—Å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (`isActive`)**
```typescript
// src/components/PixelManager/index.tsx:140
if (!pixel.isActive) return false
```
- ‚ùå **–ë–ª–æ–∫–∏—Ä—É–µ—Ç**: –ï—Å–ª–∏ –ø–∏–∫—Å–µ–ª—å –æ—Ç–º–µ—á–µ–Ω –∫–∞–∫ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–π –≤ –∞–¥–º–∏–Ω–∫–µ
- üîß **–†–µ—à–µ–Ω–∏–µ**: –í–∫–ª—é—á–∏—Ç—å –ø–∏–∫—Å–µ–ª—å –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

#### **1.2 GDPR —Å–æ–≥–ª–∞—Å–∏–µ (`gdprCompliant` + `userConsent`)**
```typescript
// src/components/PixelManager/index.tsx:143
if (pixel.gdprCompliant && !userConsent) return false
```
- ‚ùå **–ë–ª–æ–∫–∏—Ä—É–µ—Ç**: GDPR-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –ø–∏–∫—Å–µ–ª–∏ –±–µ–∑ —Å–æ–≥–ª–∞—Å–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- üîß **–†–µ—à–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å —Å–æ–≥–ª–∞—Å–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ –æ—Ç–∫–ª—é—á–∏—Ç—å GDPR –¥–ª—è –ø–∏–∫—Å–µ–ª—è

#### **1.3 –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü (`pages`)**
```typescript
// src/components/PixelManager/index.tsx:146-149
if (pixel.pages.includes('all')) return true
if (pixel.pages.includes(currentPage)) return true
return false
```
- ‚ùå **–ë–ª–æ–∫–∏—Ä—É–µ—Ç**: –ï—Å–ª–∏ —Ç–µ–∫—É—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ —É–∫–∞–∑–∞–Ω–∞ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø–∏–∫—Å–µ–ª—è
- üîß **–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å 'all' –∏–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

#### **1.4 –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ ID –ø–∏–∫—Å–µ–ª–µ–π**
```typescript
// –í–∞–ª–∏–¥–∞—Ü–∏—è –≤ src/collections/Pixels/index.ts:427-447
function validatePixelId(type: string, pixelId: string): boolean {
  switch (type) {
    case 'yandex_metrica': return /^\d{8,9}$/.test(pixelId)
    case 'vk': return /^\d{6,10}$/.test(pixelId)
    case 'facebook': return /^\d{15,16}$/.test(pixelId)
    // ...
  }
}
```
- ‚ùå **–ë–ª–æ–∫–∏—Ä—É–µ—Ç**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç ID –ø–∏–∫—Å–µ–ª—è
- üîß **–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å ID –≤ –∞–¥–º–∏–Ω–∫–µ

## üç™ **2. –°–∏—Å—Ç–µ–º–∞ —Å–æ–≥–ª–∞—Å–∏–π (GDPR/Cookie Consent)**

### **2.1 Cookie Consent Banner**
```typescript
// src/components/CookieConsentBanner/CookieConsentBanner.tsx:98-100
if (consent.analytics) {
  sendYandexHit()
}
```

#### **–ë–ª–æ–∫–∏—Ä—É—é—â–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:**
- ‚ùå **–ë–∞–Ω–Ω–µ—Ä –Ω–µ –ø–æ–∫–∞–∑–∞–Ω**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤–∏–¥–∏—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–∞—Ç—å —Å–æ–≥–ª–∞—Å–∏–µ
- ‚ùå **–°–æ–≥–ª–∞—Å–∏–µ –Ω–µ –¥–∞–Ω–æ**: `analytics: false` –≤ –¥–µ—Ç–∞–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
- ‚ùå **–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ –æ—Ç–∫–ª—é—á–µ–Ω**: `marketing: false` –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ä–µ–∫–ª–∞–º–Ω—ã–µ –ø–∏–∫—Å–µ–ª–∏

### **2.2 Hook useCookieConsent**
```typescript
// src/hooks/useCookieConsent.ts:73-75
hasAnalytics: detailedConsent?.analytics || false,
hasMarketing: detailedConsent?.marketing || false,
```

#### **–ü—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–≥–ª–∞—Å–∏–π:**
- `hasAnalytics` - –¥–ª—è Yandex Metrika, Google Analytics
- `hasMarketing` - –¥–ª—è VK Pixel, Facebook Pixel, —Ä–µ–∫–ª–∞–º–Ω—ã—Ö —Å–µ—Ç–µ–π

### **2.3 AnalyticsLayout —É—Å–ª–æ–≤–∏—è**
```typescript
// src/components/Layout/AnalyticsLayout.tsx:116-121
{shouldLoadPixels && (
  <PixelManager
    currentPage={currentPage}
    userConsent={true}
  />
)}
```

#### **–£—Å–ª–æ–≤–∏–µ `shouldLoadPixels`:**
```typescript
// src/components/Layout/AnalyticsLayout.tsx:95-108
const shouldLoadPixels = useMemo(() => {
  // –í development —Ä–µ–∂–∏–º–µ –≤—Å–µ–≥–¥–∞ –∑–∞–≥—Ä—É–∂–∞–µ–º –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
  if (process.env.NODE_ENV === 'development') return true
  
  // –í production –ø—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ–≥–ª–∞—Å–∏–µ
  return hasMarketing || hasAnalytics
}, [hasMarketing, hasAnalytics])
```

## ‚öôÔ∏è **3. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**

### **3.1 –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ ID —Å–µ—Ä–≤–∏—Å–æ–≤**
```bash
# .env.local
NEXT_PUBLIC_YANDEX_METRIKA_ID=12345678
NEXT_PUBLIC_VK_PIXEL_ID=12345678
NEXT_PUBLIC_GOOGLE_ANALYTICS_ID=G-XXXXXXXXXX
```

#### **–ë–ª–æ–∫–∏—Ä—É—é—â–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:**
- ‚ùå **ID –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω**: –ü–∏–∫—Å–µ–ª—å –Ω–µ –º–æ–∂–µ—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å—Å—è
- ‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç**: –í–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ç–∫–ª–æ–Ω—è–µ—Ç ID
- ‚ùå **–ü—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞**: –°—á–∏—Ç–∞–µ—Ç—Å—è –∫–∞–∫ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–π ID

### **3.2 NODE_ENV –≤–ª–∏—è–Ω–∏–µ**
```typescript
// –†–∞–∑–ª–∏—á–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤ development vs production
if (process.env.NODE_ENV === 'development') {
  // –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –≤—Å–µ–≥–¥–∞ –∑–∞–≥—Ä—É–∂–∞–µ–º –ø–∏–∫—Å–µ–ª–∏
  return true
}
```

## üö© **4. Feature Flags (–§–ª–∞–≥–∏ —Ñ—É–Ω–∫—Ü–∏–π)**

### **4.1 Analytics Feature Flag**
```typescript
// src/config/app.ts:163
features: {
  analytics: true,
  // ...
}
```

#### **–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏:**
- ‚ùå **analytics: false**: –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–∫–ª—é—á–∞–µ—Ç –∞–Ω–∞–ª–∏—Ç–∏–∫—É
- ‚ùå **–£—Å–ª–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞**: –ú–æ–∂–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö

### **4.2 Environment-specific –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**
```typescript
// –†–∞–∑–ª–∏—á–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ä–µ–¥
const config = {
  development: { analytics: true, debug: true },
  production: { analytics: true, debug: false },
  test: { analytics: false, debug: false }
}
```

## üîí **5. –ó–∞–≥–æ–ª–æ–≤–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (—É–∂–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω—ã)**

### **5.1 Content Security Policy**
- –ë–ª–æ–∫–∏—Ä—É–µ—Ç –≤–Ω–µ—à–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç—ã
- –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç inline JavaScript
- –§–∏–ª—å—Ç—Ä—É–µ—Ç –¥–æ–º–µ–Ω—ã

### **5.2 X-Content-Type-Options**
- –ë–ª–æ–∫–∏—Ä—É–µ—Ç —Å–∫—Ä–∏–ø—Ç—ã —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º MIME-—Ç–∏–ø–æ–º

## üì± **6. –£—Å–ª–æ–≤–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º/–±—Ä–∞—É–∑–µ—Ä–∞–º**

### **6.1 User Agent –ø—Ä–æ–≤–µ—Ä–∫–∏**
```typescript
// –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
const isBot = /bot|crawler|spider/i.test(navigator.userAgent)
if (isBot) {
  // –ù–µ –∑–∞–≥—Ä—É–∂–∞–µ–º –∞–Ω–∞–ª–∏—Ç–∏–∫—É –¥–ª—è –±–æ—Ç–æ–≤
  return
}
```

### **6.2 –ú–æ–±–∏–ª—å–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**
```typescript
// WebView –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
const isWebView = /wv|WebView/i.test(navigator.userAgent)
if (isWebView) {
  // –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –¥–ª—è WebView
  loadSimplifiedAnalytics()
}
```

## üéØ **7. –õ–æ–≥–∏–∫–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –ø–∏–∫—Å–µ–ª–µ–π**

### **7.1 Placement –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**
```typescript
// src/collections/Pixels/index.ts
placement: 'head' | 'body_start' | 'body_end'
```

#### **–í–ª–∏—è–Ω–∏–µ –Ω–∞ –∑–∞–≥—Ä—É–∑–∫—É:**
- `head` - –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Ä–∞–Ω—å—à–µ, –Ω–æ –º–æ–∂–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å—Å—è CSP
- `body_start` - –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –Ω–∞—á–∞–ª–∞ body
- `body_end` - –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ –∫–æ–Ω—Ü–µ, –º–æ–∂–µ—Ç –Ω–µ —É—Å–ø–µ—Ç—å –Ω–∞ –±—ã—Å—Ç—Ä—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–∞—Ö

### **7.2 Load Priority**
```typescript
// src/components/PixelManager/index.tsx:152-158
const getScriptStrategy = (priority: string) => {
  switch (priority) {
    case 'high': return 'beforeInteractive'
    case 'low': return 'lazyOnload'
    default: return 'afterInteractive'
  }
}
```

#### **–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏:**
- `beforeInteractive` - –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –¥–æ –∑–∞–≥—Ä—É–∑–∫–∏
- `afterInteractive` - –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- `lazyOnload` - –æ—Ç–ª–æ–∂–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞, –º–æ–∂–µ—Ç –Ω–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è

## üîÑ **8. API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –∏ –∏—Ö –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏**

### **8.1 Pixels API**
```typescript
// src/components/PixelManager/index.tsx:123
const response = await fetch(`/api/pixels/active?page=${currentPage}`)
```

#### **–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**
- ‚ùå **API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω**: 500/404 –æ—à–∏–±–∫–∏
- ‚ùå **–ú–µ–¥–ª–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç**: –¢–∞–π–º–∞—É—Ç—ã –∑–∞–≥—Ä—É–∑–∫–∏
- ‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**: –ü—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ –ø–∏–∫—Å–µ–ª–µ–π

### **8.2 Database –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ**
```typescript
// –ï—Å–ª–∏ Payload CMS –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
try {
  const pixels = await payload.find({ collection: 'pixels' })
} catch (error) {
  // –ü–∏–∫—Å–µ–ª–∏ –Ω–µ –∑–∞–≥—Ä—É–∑—è—Ç—Å—è
  return []
}
```

## üß™ **9. –†–µ–∂–∏–º—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**

### **9.1 Development —Ä–µ–∂–∏–º**
```typescript
// src/components/Layout/AnalyticsLayout.tsx:127
{process.env.NODE_ENV === 'development' && <PixelDebug />}
```

#### **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ **–û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è**: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- ‚úÖ **–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞**: –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- ‚ö†Ô∏è **–î—Ä—É–≥–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ**: –ú–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –æ—Ç production

### **9.2 Test –æ–∫—Ä—É–∂–µ–Ω–∏–µ**
```typescript
// –í —Ç–µ—Å—Ç–∞—Ö –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–∫–ª—é—á–µ–Ω–∞
if (process.env.NODE_ENV === 'test') {
  return // –ù–µ –∑–∞–≥—Ä—É–∂–∞–µ–º –∞–Ω–∞–ª–∏—Ç–∏–∫—É –≤ —Ç–µ—Å—Ç–∞—Ö
}
```

## üìä **10. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫**

### **10.1 –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
```typescript
// src/components/PixelManager/index.tsx:55-64
if (typeof window !== 'undefined' && window.ym) {
  logDebug('Yandex Metrica: ‚úÖ Loaded and available')
} else {
  logWarn('Yandex Metrica: ‚ùå Not loaded or not available')
}
```

### **10.2 Health Check**
```typescript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
setTimeout(() => {
  const health = checkAnalyticsHealth()
  logInfo('Analytics Health Check:', health)
}, 5000)
```

## üõ†Ô∏è **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏**

### **1. Pixel Configuration Analyzer**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∏–∫—Å–µ–ª–µ–π –≤ –∞–¥–º–∏–Ω–∫–µ
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–æ–≥–ª–∞—Å–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –í—ã—è–≤–ª—è–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### **2. Analytics Diagnostics**
- –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –ë—Ä–∞—É–∑–µ—Ä–Ω—ã–µ –∏ —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ —Ç–µ—Å—Ç—ã
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### **3. Security Headers Test**
- –ê–Ω–∞–ª–∏–∑ –≤–ª–∏—è–Ω–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- CSP –ø—Ä–æ–≤–µ—Ä–∫–∏
- MIME-type –≤–∞–ª–∏–¥–∞—Ü–∏—è

## üéØ **–ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫**

### **–ê–¥–º–∏–Ω–∫–∞ (Payload CMS):**
- [ ] –ü–∏–∫—Å–µ–ª—å –∞–∫—Ç–∏–≤–µ–Ω (`isActive: true`)
- [ ] –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π ID –ø–∏–∫—Å–µ–ª—è
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü –≤–∫–ª—é—á–∞—é—Ç —Ç–µ–∫—É—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏–ª–∏ 'all'
- [ ] GDPR –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º

### **–°–æ–≥–ª–∞—Å–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
- [ ] Cookie banner –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- [ ] –°–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫—É –ø–æ–ª—É—á–µ–Ω–æ (`hasAnalytics: true`)
- [ ] –°–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥ –ø–æ–ª—É—á–µ–Ω–æ (`hasMarketing: true`)
- [ ] –î–µ—Ç–∞–ª—å–Ω—ã–µ —Å–æ–≥–ª–∞—Å–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
- [ ] –í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ ID —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- [ ] –§–æ—Ä–º–∞—Ç ID —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º
- [ ] NODE_ENV –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### **Feature Flags:**
- [ ] `analytics: true` –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- [ ] –ù–µ—Ç —É—Å–ª–æ–≤–Ω–æ–π –ª–æ–≥–∏–∫–∏, –±–ª–æ–∫–∏—Ä—É—é—â–µ–π –∞–Ω–∞–ª–∏—Ç–∏–∫—É

### **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- [ ] CSP —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –¥–æ–º–µ–Ω—ã
- [ ] MIME-—Ç–∏–ø—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [ ] –ù–µ—Ç –±–ª–æ–∫–∏—Ä—É—é—â–∏—Ö –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤

### **API –∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
- [ ] Pixels API –æ—Ç–≤–µ—á–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–æ—Å—Ç—É–ø–Ω–∞
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö —Å–µ—Ä–≤–µ—Ä–∞

## üöÄ **–ë—ã—Å—Ç—Ä—ã–µ —Ä–µ—à–µ–Ω–∏—è**

### **–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:**
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É: `/en/test/analytics`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏
3. –£–±–µ–¥–∏—Ç—å—Å—è –≤ –Ω–∞–ª–∏—á–∏–∏ —Å–æ–≥–ª–∞—Å–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–∏–∫—Å–µ–ª–µ–π –≤ –∞–¥–º–∏–Ω–∫–µ

### **–î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤:**
1. –í–∫–ª—é—á–∏—Ç—å –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∏–∫—Å–µ–ª–∏
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å ID
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –ø–∏–∫—Å–µ–ª–µ–π
4. –£–±–µ–¥–∏—Ç—å—Å—è –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ GDPR –Ω–∞—Å—Ç—Ä–æ–µ–∫

### **–≠–∫—Å—Ç—Ä–µ–Ω–Ω—ã–µ –º–µ—Ä—ã:**
1. –û—Ç–∫–ª—é—á–∏—Ç—å GDPR –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –ø–∏–∫—Å–µ–ª–µ–π
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `pages: ['all']` –¥–ª—è –≤—Å–µ—Ö –ø–∏–∫—Å–µ–ª–µ–π
3. –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `userConsent: true`
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
