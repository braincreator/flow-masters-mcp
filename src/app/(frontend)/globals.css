@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Base colors - Light theme */
    --background: 220 33% 98%;
    --foreground: 222 47% 11%;

    /* Surface colors */
    --card: 0 0% 100%;
    --card-foreground: 222 47% 11%;
    --popover: 0 0% 100%;
    --popover-foreground: 222 47% 11%;

    /* Brand colors - Adjusted for better contrast */
    --primary: 224 82% 56%;
    --primary-foreground: 210 40% 98%;
    --secondary: 201 96% 32%;
    --secondary-foreground: 210 40% 98%;
    --accent: 260 84% 60%;
    --accent-foreground: 210 40% 98%;

    /* UI colors - Enhanced for better visibility */
    --muted: 217 33% 97%;
    --muted-foreground: 215 25% 27%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 210 40% 98%;
    --success: 142 76% 36%;
    --success-foreground: 210 40% 98%;
    --warning: 38 92% 50%;
    --warning-foreground: 210 40% 98%;
    --info: 199 89% 48%;
    --info-foreground: 210 40% 98%;

    /* Border & Input */
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 224 82% 56%;

    /* Enhanced Shadows */
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    --shadow-md: 0 6px 12px -2px rgb(0 0 0 / 0.1), 0 4px 6px -2px rgb(0 0 0 / 0.1);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
    --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 10px 10px -5px rgb(0 0 0 / 0.04);

    /* Transition & Timing */
    --transition-default: 200ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-slow: 300ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-bounce: 500ms cubic-bezier(0.34, 1.56, 0.64, 1);
    --transition-bezier: cubic-bezier(0.4, 0, 0.2, 1);

    /* Radius */
    --radius: 0.5rem;
  }

  [data-theme='dark'] {
    /* Base colors - Dark theme - Adjusted for better readability */
    --background: 222 47% 11%;
    --foreground: 213 31% 95%;

    /* Surface colors - Enhanced contrast */
    --card: 223 47% 13%;
    --card-foreground: 213 31% 95%;
    --popover: 223 47% 13%;
    --popover-foreground: 213 31% 95%;

    /* Brand colors - Brightened for dark mode */
    --primary: 224 82% 65%;
    --primary-foreground: 210 40% 98%;
    --secondary: 199 89% 52%;
    --secondary-foreground: 210 40% 98%;
    --accent: 260 84% 75%;
    --accent-foreground: 210 40% 98%;

    /* UI colors - Adjusted for dark mode visibility */
    --muted: 223 47% 15%;
    --muted-foreground: 215 20.2% 85%;
    --destructive: 0 84% 65%;
    --destructive-foreground: 210 40% 98%;
    --success: 142 76% 45%;
    --success-foreground: 210 40% 98%;
    --warning: 38 92% 60%;
    --warning-foreground: 210 40% 98%;
    --info: 199 89% 60%;
    --info-foreground: 210 40% 98%;

    /* Border & Input - Increased contrast for dark mode */
    --border: 222 47% 30%;
    --input: 222 47% 30%;
    --ring: 224 82% 65%;

    /* Enhanced Shadows */
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.3);
    --shadow: 0 4px 6px -1px rgb(0 0 0 / 0.3), 0 2px 4px -2px rgb(0 0 0 / 0.3);
    --shadow-md: 0 6px 12px -2px rgb(0 0 0 / 0.3), 0 4px 6px -2px rgb(0 0 0 / 0.3);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.3), 0 4px 6px -4px rgb(0 0 0 / 0.3);
    --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.3), 0 10px 10px -5px rgb(0 0 0 / 0.2);
  }

  /* Global rule to ensure focus styles are only applied during focus and removed after */
  *:focus {
    @apply outline-none;
  }

  *:focus-visible {
    @apply outline-none ring-2 ring-ring ring-offset-2 ring-offset-background border-transparent;
  }

  /* Global CSS reset for all interactive elements to completely remove focus styling after focus is lost */
  /* This is a more aggressive reset that will apply to ALL elements */
  *:not(:focus-visible) {
    @apply ring-0 ring-offset-0 !border-border outline-none;
  }

  /* Fix hover behavior for all elements with borders */
  *:hover {
    @apply border-border;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground transition-colors duration-300;
  }

  /* Add smooth transitions for theme changes */
  :root {
    @apply transition-colors duration-300;
  }

  /* Improve contrast for focus states - only apply during focus */
  *:focus-visible {
    @apply outline-none ring-2 ring-ring ring-offset-2 ring-offset-background border-transparent;
  }

  /* Reset styles when not focused - make sure borders are completely removed after focus */
  *:not(:focus-visible) {
    @apply ring-0 ring-offset-0 border-border;
  }
}

@layer utilities {
  .step {
    counter-increment: step;
  }

  .step:before {
    @apply absolute w-8 h-8 bg-muted rounded-full font-medium text-center text-base inline-flex items-center justify-center -indent-px;
    @apply ml-[-41px] mt-[-2px];
    content: counter(step);
  }
}

@layer components {
  /* Enhanced glass effect for filters */
  .glass-effect {
    @apply rounded-lg
           bg-background/40 dark:bg-background/30
           backdrop-blur-md
           border border-border/20 dark:border-border/10
           shadow-sm
           relative overflow-hidden;
  }

  .glass-effect::before {
    content: '';
    @apply absolute inset-0 
           bg-gradient-to-br from-primary/5 via-transparent to-accent/5
           opacity-0 transition-opacity duration-300;
  }

  .glass-effect:hover::before {
    @apply opacity-100;
  }

  .interactive-element {
    @apply relative overflow-hidden
           transition-all duration-300
           hover:scale-[1.02]
           active:scale-[0.98]
           hover:bg-accent/5 dark:hover:bg-accent/10;
  }

  /* AI-themed card */
  .ai-card {
    @apply rounded-xl border bg-gradient-to-br from-background via-background to-muted
           shadow-lg relative overflow-hidden transition-all duration-300
           hover:shadow-xl hover:shadow-primary/20
           dark:from-background/90 dark:via-background/80 dark:to-muted/20
           dark:border-primary/20 dark:hover:shadow-primary/40;
  }

  .ai-card::before {
    content: '';
    @apply absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-accent/5
           opacity-0 transition-opacity duration-300;
  }

  .ai-card:hover::before {
    @apply opacity-100;
  }

  .card-title {
    @apply text-xl font-bold md:text-2xl;
  }

  .card-subtitle {
    @apply text-lg md:text-xl text-muted-foreground;
  }

  .section-title {
    @apply text-3xl font-bold md:text-4xl;
  }

  .button-base {
    @apply text-base md:text-lg relative overflow-hidden
           font-medium
           disabled:opacity-50 disabled:pointer-events-none
           focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background focus-visible:border-transparent
           focus:border-transparent
           active:scale-[0.98]
           select-none
           transition-all duration-300 ease-out;
  }

  .input-base {
    @apply text-base md:text-lg w-full rounded-lg border border-border bg-background px-4 py-2.5 
      placeholder:text-muted-foreground/70 focus:outline-none focus-visible:ring-2 focus-visible:ring-ring 
      focus:border-transparent focus-visible:border-transparent hover:border-border
      disabled:cursor-not-allowed disabled:opacity-50 
      transition-all duration-200 dark:bg-background/80;
  }

  /* Update badge size */
  .badge {
    @apply inline-flex items-center rounded-full px-3 py-1
           text-sm font-medium transition-colors duration-200
           bg-accent/10 text-accent-foreground
           dark:bg-accent/20;
  }

  /* Enhanced AI button */
  .ai-button {
    @apply px-6 py-3 rounded-xl
           bg-gradient-to-br from-accent via-secondary to-accent
           text-white font-medium
           shadow-lg shadow-accent/20
           transition-all duration-300
           hover:shadow-xl hover:shadow-accent/30
           hover:scale-[1.02]
           active:scale-[0.98]
           disabled:opacity-50 disabled:pointer-events-none
           dark:shadow-accent/40
           dark:hover:shadow-accent/50;
  }

  /* Futuristic input */
  .ai-input {
    @apply glass-effect px-6 py-3
           focus:outline-none focus:ring-2 focus:ring-accent/50
           placeholder:text-muted-foreground/70
           text-base relative
           transition-all duration-200;
  }

  /* Modern card variations */
  .card-hover {
    @apply card hover:scale-[1.02] hover:-translate-y-1 
           transition-all duration-300 ease-out
           hover:shadow-xl hover:shadow-accent/10
           dark:hover:shadow-accent/20;
  }

  .card-gradient {
    @apply card bg-gradient-to-br from-background via-background to-muted/50
           dark:from-background/80 dark:via-background/60 dark:to-muted/20;
  }

  /* Floating action button */
  .fab {
    @apply fixed bottom-6 right-6 
           rounded-full p-4
           bg-gradient-to-br from-primary via-primary to-accent
           text-primary-foreground
           shadow-lg shadow-primary/20
           hover:shadow-xl hover:shadow-primary/30
           transform hover:scale-110
           transition-all duration-300 ease-out;
  }

  /* Modern form elements */
  .input-modern {
    @apply input-base bg-gradient-to-br from-background to-muted/30 dark:from-background dark:to-muted/10 border-2 focus:border-transparent placeholder:text-muted-foreground/50;
  }

  .select-modern {
    @apply input-modern appearance-none bg-[url('data:image/svg+xml;charset=US-ASCII,<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><path d="M7 7l3 3 3-3" fill="none" stroke="%239fa6b2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>')] bg-no-repeat bg-right-1 bg-[length:20px] focus:border-transparent;
  }

  /* Select component styles */
  .select-trigger {
    @apply flex h-10 w-full items-center justify-between rounded-lg border border-border bg-background 
      px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground 
      focus:outline-none focus-visible:ring-2 focus-visible:ring-accent/50 focus-visible:border-transparent 
      focus:border-transparent
      focus:!ring-0 focus:!ring-offset-0 focus-visible:!ring-2 focus-visible:!ring-offset-2
      disabled:cursor-not-allowed disabled:opacity-50 
      transition-all duration-200;
  }

  .select-content {
    @apply relative z-50 min-w-[8rem] overflow-hidden rounded-lg border border-border/50 bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2;
  }

  .select-item {
    @apply relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm 
           outline-none border-transparent 
           focus:bg-accent focus:text-accent-foreground focus:border-transparent focus:outline-none focus:ring-0 focus:ring-offset-0
           data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground data-[highlighted]:border-transparent data-[highlighted]:outline-none data-[highlighted]:ring-0 data-[highlighted]:ring-offset-0
           data-[disabled]:pointer-events-none data-[disabled]:opacity-50;
  }

  .select-item-indicator {
    @apply absolute left-2 flex h-3.5 w-3.5 items-center justify-center;
  }

  /* Comprehensive fix for removing borders from all dropdown/listbox items during keyboard navigation */
  [role='listbox'] [role='option'],
  [role='menu'] [role='menuitem'],
  [role='combobox'] [role='option'],
  [role='dialog'] [role='option'],
  [role='grid'] [role='row'],
  [role='grid'] [role='gridcell'],
  [role='listbox'] [role='option'],
  .select-item,
  .command-item,
  .dropdown-item {
    @apply border-transparent outline-none;
  }

  /* States for keyboard navigation of list items */
  [role='listbox'] [role='option']:focus,
  [role='listbox'] [role='option']:focus-visible,
  [role='menu'] [role='menuitem']:focus,
  [role='menu'] [role='menuitem']:focus-visible,
  [role='combobox'] [role='option']:focus,
  [role='combobox'] [role='option']:focus-visible,
  [role='dialog'] [role='option']:focus,
  [role='dialog'] [role='option']:focus-visible,
  [role='grid'] [role='row']:focus,
  [role='grid'] [role='row']:focus-visible,
  [role='grid'] [role='gridcell']:focus,
  [role='grid'] [role='gridcell']:focus-visible,
  [role='listbox'] [role='option'][data-highlighted],
  [role='listbox'] [role='option'][data-state='checked'],
  [role='menu'] [role='menuitem'][data-highlighted],
  [role='combobox'] [role='option'][data-highlighted],
  .select-item:focus,
  .select-item:focus-visible,
  .select-item[data-highlighted],
  .command-item:focus,
  .command-item:focus-visible,
  .command-item[data-highlighted],
  .dropdown-item:focus,
  .dropdown-item:focus-visible,
  .dropdown-item[data-highlighted] {
    @apply !border-transparent !ring-0 !ring-offset-0 !outline-none;
  }

  /* Badge variations */
  .badge {
    @apply inline-flex items-center
           rounded-full px-3 py-1
           text-xs font-medium
           transition-colors duration-200;
  }

  .badge-primary {
    @apply badge
           bg-primary/10 text-primary-foreground
           dark:bg-primary/20;
  }

  .badge-secondary {
    @apply badge
           bg-secondary/10 text-secondary-foreground
           dark:bg-secondary/20;
  }

  /* Modern divider */
  .divider {
    @apply h-px w-full my-4
           bg-gradient-to-r from-transparent via-border to-transparent
           dark:from-transparent dark:via-border/50 dark:to-transparent;
  }

  /* Animated loading skeleton */
  .skeleton {
    @apply animate-pulse rounded-md bg-muted/50
           dark:bg-muted/20;
  }

  /* Toast notification */
  .toast {
    @apply glass-effect
           fixed bottom-4 right-4
           p-4 max-w-md
           transform transition-all duration-300
           translate-y-0 opacity-100;
  }

  .toast-enter {
    @apply translate-y-full opacity-0;
  }

  /* Navigation menu */
  .nav-link {
    @apply relative px-4 py-2
           text-foreground/70 hover:text-warning
           transition-colors duration-300
           after:absolute after:bottom-0 after:left-0
           after:h-0.5 after:w-full
           after:origin-left after:scale-x-0
           after:bg-warning after:transition-transform
           hover:after:scale-x-100;
  }

  /* Scrollbar styling */
  .custom-scrollbar {
    @apply scrollbar-thin scrollbar-track-muted
           scrollbar-thumb-primary/50
           hover:scrollbar-thumb-primary/70;
  }

  /* Add these new components */
  .nav-item-glow {
    @apply relative;
  }

  .nav-item-glow::after {
    @apply content-[''] absolute -inset-3 rounded-xl;
    @apply bg-gradient-to-r from-warning/0 via-warning/20 to-warning/0;
    @apply opacity-0 transition-opacity duration-300;
    @apply group-hover:opacity-100;
    @apply -z-10 blur-md;
  }

  .text-gradient-hover {
    @apply transition-all duration-300;
    @apply hover:bg-gradient-to-r hover:from-warning hover:via-warning hover:to-warning;
    @apply hover:bg-clip-text hover:text-transparent;
  }

  .link-underline-animated {
    @apply relative;
    @apply after:absolute after:bottom-0 after:left-0;
    @apply after:h-[2px] after:w-full;
    @apply after:origin-left after:scale-x-0;
    @apply after:bg-gradient-to-r after:from-accent after:via-accent after:to-accent;
    @apply after:transition-transform after:duration-300;
    @apply hover:after:scale-x-100;
  }

  .nav-link-hover {
    @apply relative overflow-hidden
           before:absolute before:inset-0 before:w-full before:h-full
           before:bg-gradient-to-r before:from-accent/0 before:via-accent/10 before:to-accent/0
           before:translate-y-[100%] before:hover:translate-y-0
           before:transition-transform before:duration-300
           hover:text-accent transition-colors duration-300;
  }

  .nav-link-glow {
    @apply relative
           after:absolute after:top-[120%] after:left-[50%]
           after:w-[20px] after:h-[4px]
           after:rounded-full
           after:shadow-[0_0_8px_3px] after:shadow-accent/50
           after:transition-all after:duration-500
           after:opacity-0
           hover:after:opacity-100;
  }

  .nav-link-magnetic {
    @apply relative transition-transform duration-200
           hover:scale-110
           active:scale-95;
  }

  /* Animated glow effect */
  .glow-effect {
    @apply relative;
  }

  .glow-effect::after {
    content: '';
    @apply absolute inset-0 bg-gradient-to-r from-accent/20 via-secondary/20 to-accent/20
           blur-xl opacity-0 transition-opacity duration-500;
  }

  .glow-effect:hover::after {
    @apply opacity-100;
  }

  .product-card {
    @apply relative overflow-hidden
           bg-card dark:bg-card/80
           rounded-xl
           border border-border/10
           shadow-sm hover:shadow-lg
           transition-all duration-300 ease-out;
  }

  .product-card::before {
    content: '';
    @apply absolute inset-0
           bg-gradient-to-br from-accent/5 via-transparent to-accent/5
           opacity-0 transition-opacity duration-300;
  }

  .product-card:hover::before {
    @apply opacity-100;
  }

  .product-card::after {
    content: '';
    @apply absolute inset-0
           border border-accent/10
           rounded-xl
           opacity-0 scale-[1.02]
           transition-all duration-300;
  }

  .product-card:hover::after {
    @apply opacity-100 scale-100;
  }

  /* Enhanced glass effect */
  .glass-effect {
    @apply bg-background/40 dark:bg-background/30
           backdrop-blur-[2px]
           border border-border/10
           transition-all duration-300;
  }

  /* Interactive elements */
  .interactive-element {
    @apply relative overflow-hidden
           transition-all duration-300
           hover:scale-[1.02]
           active:scale-[0.98]
           hover:bg-accent/5 dark:hover:bg-accent/10;
  }

  /* Shimmer animation */
  .shimmer {
    @apply absolute inset-0
           bg-gradient-to-r from-transparent via-white/20 to-transparent
           -translate-x-full animate-[shimmer_2s_infinite];
  }

  @keyframes shimmer {
    100% {
      transform: translateX(100%);
    }
  }

  /* Enhanced button styles */
  .product-card .interactive-element {
    @apply relative overflow-hidden
           transition-all duration-300
           hover:scale-[1.02]
           active:scale-[0.98]
           hover:bg-accent/5 dark:hover:bg-accent/10;
  }

  /* Button shimmer effect */
  .product-card .interactive-element::after {
    content: '';
    @apply absolute inset-0 
           bg-gradient-to-r from-transparent via-white/20 to-transparent 
           opacity-0 transition-opacity duration-300
           -translate-x-full;
  }

  .product-card .interactive-element:hover::after {
    @apply opacity-100;
    animation: shimmer 2s infinite;
  }

  /* Product type indicator */
  .product-type-indicator {
    @apply flex items-center justify-center gap-2 
           text-sm text-muted-foreground
           glass-effect px-3 py-1.5 rounded-full
           mt-2;
  }

  /* Explicitly reset focus styles for all interactive controls */
  button,
  a,
  input,
  select,
  textarea,
  .interactive-element,
  .input-base,
  .input-modern,
  .select-modern,
  .select-trigger {
    @apply focus:outline-none focus-visible:outline-none 
           focus-visible:ring-2 focus-visible:ring-accent/50 focus-visible:ring-offset-2 focus-visible:border-transparent
           focus:border-transparent;
  }

  /* Ensure focus styles are ONLY present during actual focus */
  button:focus-visible,
  a:focus-visible,
  input:focus-visible,
  select:focus-visible,
  textarea:focus-visible,
  .interactive-element:focus-visible,
  .input-base:focus-visible,
  .input-modern:focus-visible,
  .select-modern:focus-visible,
  .select-trigger:focus-visible {
    @apply outline-none ring-2 ring-accent/50 ring-offset-2 ring-offset-background border-transparent;
  }

  /* Complete reset when focus is lost - with !important to override any other styles */
  button:not(:focus-visible),
  a:not(:focus-visible),
  input:not(:focus-visible),
  select:not(:focus-visible),
  textarea:not(:focus-visible),
  .interactive-element:not(:focus-visible),
  .input-base:not(:focus-visible),
  .input-modern:not(:focus-visible),
  .select-modern:not(:focus-visible),
  .select-trigger:not(:focus-visible) {
    @apply !ring-0 !ring-offset-0;
  }

  /* Fix hover behavior for input elements - explicitly set border color on hover */
  input,
  .input-base,
  .input-modern,
  select,
  .select-modern,
  .select-trigger,
  .interactive-element,
  button {
    @apply hover:border-border;
  }

  /* Update hover styles to not show focus-like effects - make sure borders don't disappear on hover */
  .dark .interactive-element:hover,
  .dark .input-base:hover,
  .dark .select-trigger:hover,
  .dark button:hover,
  [data-theme='dark'] .interactive-element:hover,
  [data-theme='dark'] .input-base:hover,
  [data-theme='dark'] .select-trigger:hover,
  [data-theme='dark'] button:hover,
  .interactive-element:hover,
  .input-base:hover,
  .select-trigger:hover,
  button:hover {
    @apply border-border ring-0;
  }

  /* Border styles for dark mode */
  .dark .border,
  [data-theme='dark'] .border {
    @apply border-border/80; /* Increased opacity for better visibility */
  }

  /* Input and form control styles for dark mode */
  .dark .input-base,
  .dark .select-trigger,
  .dark .select-content,
  .dark button[class*='border'],
  [data-theme='dark'] .input-base,
  [data-theme='dark'] .select-trigger,
  [data-theme='dark'] .select-content,
  [data-theme='dark'] button[class*='border'] {
    @apply border-border/90; /* Higher opacity borders for dark mode */
  }

  /* Dialog and popover styles for dark mode */
  .dark .border-t,
  .dark .border-b,
  .dark .border-l,
  .dark .border-r,
  [data-theme='dark'] .border-t,
  [data-theme='dark'] .border-b,
  [data-theme='dark'] .border-l,
  [data-theme='dark'] .border-r {
    @apply border-border/80; /* Increased opacity for directional borders */
  }

  /* Enhanced Product Detail Page Styles */
  /* Product Details Specific Styles */
  .product-detail-container {
    @apply grid gap-8 lg:grid-cols-2 max-w-7xl mx-auto px-4 md:px-6;
  }

  .product-image-gallery {
    @apply relative rounded-xl overflow-hidden bg-muted/30 shadow-md dark:bg-muted/10;
  }

  .product-image-gallery::after {
    content: '';
    @apply absolute inset-0 rounded-xl ring-1 ring-inset ring-black/10 dark:ring-white/10 pointer-events-none;
  }

  .product-info {
    @apply space-y-6 lg:sticky lg:top-24;
  }

  .product-header {
    @apply space-y-4;
  }

  .badges-container {
    @apply flex flex-wrap items-center gap-2;
  }

  .product-title {
    @apply text-3xl font-bold tracking-tight md:text-4xl;
  }

  .product-type-info {
    @apply inline-flex items-center gap-3 text-sm text-muted-foreground;
  }

  .price-section {
    @apply my-6;
  }

  .price-tag {
    @apply flex items-center gap-3;
  }

  .original-price {
    @apply text-lg text-muted-foreground line-through;
  }

  .discount-badge {
    @apply text-sm;
  }

  .product-actions {
    @apply space-y-4;
  }

  .add-to-cart-button {
    @apply relative overflow-hidden transition-all duration-300 hover:transform hover:scale-[1.02] active:scale-[0.98];
  }

  .add-to-cart-button::after {
    content: '';
    @apply absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 transition-opacity duration-300;
    transform: translateX(-100%);
  }

  .add-to-cart-button:hover::after {
    @apply opacity-100;
    animation: shimmer 2s infinite;
  }

  .description-section {
    @apply p-4 rounded-md bg-muted/20 mt-4;
  }

  .features-section {
    @apply p-4 rounded-md bg-muted/20 mt-4 space-y-4;
  }

  .features-grid {
    @apply grid gap-4 sm:grid-cols-2;
  }

  .feature-item {
    @apply flex items-center gap-3 p-3 rounded-md bg-background;
  }

  .feature-icon {
    @apply rounded-full bg-primary/10 p-1.5;
  }

  .product-benefits {
    @apply grid grid-cols-1 sm:grid-cols-3 gap-4 mt-8;
  }

  .benefit-card {
    @apply flex items-start gap-3 p-3 rounded-md bg-muted/20;
  }

  .benefit-icon {
    @apply h-5 w-5 text-primary flex-shrink-0 mt-1;
  }

  /* Dark mode adjustments */
  .dark .product-image-gallery {
    @apply bg-muted/10 shadow-lg shadow-black/20;
  }

  .dark .feature-item {
    @apply bg-muted/20;
  }

  .dark .benefit-card {
    @apply bg-muted/10;
  }

  /* Responsive adjustments for product detail page */
  @media (max-width: 768px) {
    .product-detail-container {
      @apply grid-cols-1;
    }

    .product-info {
      @apply static;
    }

    .features-grid {
      @apply grid-cols-1;
    }

    .product-benefits {
      @apply grid-cols-1;
    }

    .price-tag {
      @apply flex-wrap;
    }
  }

  /* Tablet adjustments */
  @media (min-width: 769px) and (max-width: 1024px) {
    .product-benefits {
      @apply grid-cols-2;
    }
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  .animate-smooth {
    @apply transition-all duration-300 ease-out;
  }

  .hover-lift {
    @apply transition-transform duration-300 ease-out hover:-translate-y-1;
  }

  .hover-glow {
    @apply transition-shadow duration-300 hover:shadow-lg hover:shadow-primary/20;
  }

  .text-gradient {
    @apply bg-clip-text text-transparent
           bg-gradient-to-r from-primary via-accent to-primary;
  }

  .bg-gradient-subtle {
    @apply bg-gradient-to-br from-background via-background to-muted/30
           dark:from-background dark:via-background/80 dark:to-muted/20;
  }

  .shadow-soft {
    @apply shadow-lg shadow-primary/5
           dark:shadow-primary/10;
  }

  .border-gradient {
    @apply border-2 border-transparent
           bg-gradient-to-r from-primary via-accent to-primary
           bg-clip-border;
  }

  .backdrop-blur {
    @apply backdrop-blur-lg backdrop-saturate-150;
  }
}

/* Enhanced page transitions */
.page-transition-enter {
  opacity: 0;
  transform: translateY(10px);
}

.page-transition-enter-active {
  opacity: 1;
  transform: translateY(0);
  transition:
    opacity 0.3s ease-out,
    transform 0.3s ease-out;
}

.page-transition-exit {
  opacity: 1;
  transform: translateY(0);
}

.page-transition-exit-active {
  opacity: 0;
  transform: translateY(-10px);
  transition:
    opacity 0.3s ease-out,
    transform 0.3s ease-out;
}

/* Add modern animations */
@keyframes float {
  0% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-10px);
  }
  100% {
    transform: translateY(0px);
  }
}

.animate-float {
  animation: float 3s ease-in-out infinite;
}

@keyframes shine {
  to {
    background-position: 200% center;
  }
}

.animate-shine {
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(var(--primary-hsl), 0.1) 50%,
    transparent 100%
  );
  background-size: 200% 100%;
  animation: shine 3s linear infinite;
}

/* Always show scrollbar to prevent layout shift */
:root {
  overflow-y: scroll;
}

/* Basic scrollbar styling */
:root {
  scrollbar-width: thin;
  scrollbar-color: rgba(0, 0, 0, 0.3) transparent;
}

/* Chrome, Edge, and Safari */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background-color: rgba(0, 0, 0, 0.3);
  border-radius: 20px;
}

/* Prevent content shift when modal/dialog is open */
body.modal-open {
  overflow: hidden;
  padding-right: 8px; /* Same as scrollbar width */
}

/* Add new utilities for theme-aware styling */
@layer utilities {
  .theme-transition {
    @apply transition-colors duration-300;
  }

  .hover-accent {
    @apply hover:text-accent dark:hover:text-accent-foreground;
  }

  .text-gradient {
    @apply bg-clip-text text-transparent bg-gradient-to-r 
           from-primary via-accent to-secondary
           dark:from-primary dark:via-accent dark:to-secondary;
  }
}

/* Product Card Styles */
.product-card {
  @apply rounded-xl border bg-gradient-to-br from-background via-background to-muted
         shadow-lg relative overflow-hidden transition-all duration-300
         hover:shadow-xl hover:shadow-primary/20
         dark:from-background/90 dark:via-background/80 dark:to-muted/20
         dark:border-primary/20 dark:hover:shadow-primary/40;
}

.product-card::before {
  content: '';
  @apply absolute inset-0 bg-gradient-to-br from-accent/5 via-transparent to-accent/5
         opacity-0 transition-opacity duration-300;
}

.product-card:hover::before {
  @apply opacity-100;
}

.product-card-image {
  @apply relative overflow-hidden aspect-square;
}

.product-card-image img {
  @apply object-cover transition-transform duration-300;
}

.product-card:hover .product-card-image img {
  @apply scale-105;
}

.product-card-badge {
  @apply absolute top-2 right-2 z-10 
         bg-background/90 backdrop-blur-sm 
         px-3 py-1.5 rounded-full
         border border-border/50
         transition-all duration-300;
}

.product-card:hover .product-card-badge {
  @apply transform scale-105;
}

.product-card-content {
  @apply p-4 space-y-4;
}

.product-card-title {
  @apply text-xl font-semibold 
         text-foreground
         transition-colors duration-200
         hover:text-primary;
}

.product-card-description {
  @apply text-sm text-muted-foreground
         line-clamp-2;
}

.product-card-price {
  @apply text-lg font-bold text-foreground;
}

.product-card-price-discount {
  @apply text-sm text-muted-foreground line-through;
}

.product-card-tags {
  @apply flex flex-wrap gap-2 mt-2;
}

.product-card-tag {
  @apply inline-flex items-center gap-1.5 
         px-2 py-1 text-xs rounded-full
         bg-primary/10 text-primary
         transition-colors duration-200
         hover:bg-primary/20;
}

/* Animation keyframes */
@keyframes float {
  0%,
  100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-5px);
  }
}

.animate-float {
  animation: float 3s ease-in-out infinite;
}

/* Filter button styles with better hover contrast */
.filter-button {
  @apply bg-background hover:bg-accent hover:text-accent-foreground hover:border-accent
         transition-all duration-200;
}

/* Ghost button hover states for filter lists */
.filter-option {
  @apply hover:bg-accent hover:text-accent-foreground 
         data-[state=active]:bg-accent data-[state=active]:text-accent-foreground
         transition-all duration-200;
}
