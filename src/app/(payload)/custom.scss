/*
 * Payload CMS Admin Panel Style Restoration
 * This file restores the original Payload CMS admin panel styling
 * Based on official Payload CMS UI structure and variables
 */

@layer payload-admin-fixes {
  /* Import official Payload CSS variables and ensure they're not overridden */
  :root {
    /* Official Payload CMS Color System */
    --color-base-0: rgb(255, 255, 255);
    --color-base-50: rgb(245, 245, 245);
    --color-base-100: rgb(235, 235, 235);
    --color-base-150: rgb(221, 221, 221);
    --color-base-200: rgb(208, 208, 208);
    --color-base-250: rgb(195, 195, 195);
    --color-base-300: rgb(181, 181, 181);
    --color-base-350: rgb(168, 168, 168);
    --color-base-400: rgb(154, 154, 154);
    --color-base-450: rgb(141, 141, 141);
    --color-base-500: rgb(128, 128, 128);
    --color-base-550: rgb(114, 114, 114);
    --color-base-600: rgb(101, 101, 101);
    --color-base-650: rgb(87, 87, 87);
    --color-base-700: rgb(74, 74, 74);
    --color-base-750: rgb(60, 60, 60);
    --color-base-800: rgb(47, 47, 47);
    --color-base-850: rgb(34, 34, 34);
    --color-base-900: rgb(20, 20, 20);
    --color-base-950: rgb(7, 7, 7);
    --color-base-1000: rgb(0, 0, 0);

    /* Success colors */
    --color-success-50: rgb(237, 245, 249);
    --color-success-100: rgb(218, 237, 248);
    --color-success-150: rgb(188, 225, 248);
    --color-success-200: rgb(156, 216, 253);
    --color-success-250: rgb(125, 204, 248);
    --color-success-300: rgb(97, 190, 241);
    --color-success-350: rgb(65, 178, 236);
    --color-success-400: rgb(36, 164, 223);
    --color-success-450: rgb(18, 148, 204);
    --color-success-500: rgb(21, 135, 186);
    --color-success-550: rgb(12, 121, 168);
    --color-success-600: rgb(11, 110, 153);
    --color-success-650: rgb(11, 97, 135);
    --color-success-700: rgb(17, 88, 121);
    --color-success-750: rgb(17, 76, 105);
    --color-success-800: rgb(18, 66, 90);
    --color-success-850: rgb(18, 56, 76);
    --color-success-900: rgb(19, 44, 58);
    --color-success-950: rgb(22, 33, 39);

    /* Error colors */
    --color-error-50: rgb(250, 241, 240);
    --color-error-100: rgb(252, 229, 227);
    --color-error-150: rgb(247, 208, 204);
    --color-error-200: rgb(254, 193, 188);
    --color-error-250: rgb(253, 177, 170);
    --color-error-300: rgb(253, 154, 146);
    --color-error-350: rgb(253, 131, 123);
    --color-error-400: rgb(246, 109, 103);
    --color-error-450: rgb(234, 90, 86);
    --color-error-500: rgb(218, 75, 72);
    --color-error-550: rgb(200, 62, 61);
    --color-error-600: rgb(182, 54, 54);
    --color-error-650: rgb(161, 47, 47);
    --color-error-700: rgb(144, 44, 43);
    --color-error-750: rgb(123, 41, 39);
    --color-error-800: rgb(105, 39, 37);
    --color-error-850: rgb(86, 36, 33);
    --color-error-900: rgb(64, 32, 29);
    --color-error-950: rgb(44, 26, 24);

    /* Warning colors */
    --color-warning-50: rgb(249, 242, 237);
    --color-warning-100: rgb(248, 232, 219);
    --color-warning-150: rgb(243, 212, 186);
    --color-warning-200: rgb(243, 200, 162);
    --color-warning-250: rgb(240, 185, 136);
    --color-warning-300: rgb(238, 166, 98);
    --color-warning-350: rgb(234, 148, 58);
    --color-warning-400: rgb(223, 132, 17);
    --color-warning-450: rgb(204, 120, 15);
    --color-warning-500: rgb(185, 108, 13);
    --color-warning-550: rgb(167, 97, 10);
    --color-warning-600: rgb(150, 87, 11);
    --color-warning-650: rgb(134, 78, 11);
    --color-warning-700: rgb(120, 70, 13);
    --color-warning-750: rgb(105, 61, 13);
    --color-warning-800: rgb(90, 55, 19);
    --color-warning-850: rgb(73, 47, 21);
    --color-warning-900: rgb(56, 38, 20);
    --color-warning-950: rgb(38, 29, 21);

    /* Theme elevation mapping */
    --theme-elevation-0: var(--color-base-0);
    --theme-elevation-25: rgb(250, 250, 250);
    --theme-elevation-50: var(--color-base-50);
    --theme-elevation-100: var(--color-base-100);
    --theme-elevation-150: var(--color-base-150);
    --theme-elevation-200: var(--color-base-200);
    --theme-elevation-250: var(--color-base-250);
    --theme-elevation-300: var(--color-base-300);
    --theme-elevation-350: var(--color-base-350);
    --theme-elevation-400: var(--color-base-400);
    --theme-elevation-450: var(--color-base-450);
    --theme-elevation-500: var(--color-base-500);
    --theme-elevation-550: var(--color-base-550);
    --theme-elevation-600: var(--color-base-600);
    --theme-elevation-650: var(--color-base-650);
    --theme-elevation-700: var(--color-base-700);
    --theme-elevation-750: var(--color-base-750);
    --theme-elevation-800: var(--color-base-800);
    --theme-elevation-850: var(--color-base-850);
    --theme-elevation-900: var(--color-base-900);
    --theme-elevation-950: var(--color-base-950);
    --theme-elevation-1000: var(--color-base-1000);

    /* Theme color mappings */
    --theme-success-50: var(--color-success-50);
    --theme-success-100: var(--color-success-100);
    --theme-success-150: var(--color-success-150);
    --theme-success-200: var(--color-success-200);
    --theme-success-250: var(--color-success-250);
    --theme-success-300: var(--color-success-300);
    --theme-success-350: var(--color-success-350);
    --theme-success-400: var(--color-success-400);
    --theme-success-450: var(--color-success-450);
    --theme-success-500: var(--color-success-500);
    --theme-success-550: var(--color-success-550);
    --theme-success-600: var(--color-success-600);
    --theme-success-650: var(--color-success-650);
    --theme-success-700: var(--color-success-700);
    --theme-success-750: var(--color-success-750);
    --theme-success-800: var(--color-success-800);
    --theme-success-850: var(--color-success-850);
    --theme-success-900: var(--color-success-900);
    --theme-success-950: var(--color-success-950);

    --theme-error-50: var(--color-error-50);
    --theme-error-100: var(--color-error-100);
    --theme-error-150: var(--color-error-150);
    --theme-error-200: var(--color-error-200);
    --theme-error-250: var(--color-error-250);
    --theme-error-300: var(--color-error-300);
    --theme-error-350: var(--color-error-350);
    --theme-error-400: var(--color-error-400);
    --theme-error-450: var(--color-error-450);
    --theme-error-500: var(--color-error-500);
    --theme-error-550: var(--color-error-550);
    --theme-error-600: var(--color-error-600);
    --theme-error-650: var(--color-error-650);
    --theme-error-700: var(--color-error-700);
    --theme-error-750: var(--color-error-750);
    --theme-error-800: var(--color-error-800);
    --theme-error-850: var(--color-error-850);
    --theme-error-900: var(--color-error-900);
    --theme-error-950: var(--color-error-950);

    --theme-warning-50: var(--color-warning-50);
    --theme-warning-100: var(--color-warning-100);
    --theme-warning-150: var(--color-warning-150);
    --theme-warning-200: var(--color-warning-200);
    --theme-warning-250: var(--color-warning-250);
    --theme-warning-300: var(--color-warning-300);
    --theme-warning-350: var(--color-warning-350);
    --theme-warning-400: var(--color-warning-400);
    --theme-warning-450: var(--color-warning-450);
    --theme-warning-500: var(--color-warning-500);
    --theme-warning-550: var(--color-warning-550);
    --theme-warning-600: var(--color-warning-600);
    --theme-warning-650: var(--color-warning-650);
    --theme-warning-700: var(--color-warning-700);
    --theme-warning-750: var(--color-warning-750);
    --theme-warning-800: var(--color-warning-800);
    --theme-warning-850: var(--color-warning-850);
    --theme-warning-900: var(--color-warning-900);
    --theme-warning-950: var(--color-warning-950);
    /* Base measurements from official Payload */
    --base-px: 20;
    --base-body-size: 13;
    --base: calc((var(--base-px) / var(--base-body-size)) * 1rem);

    /* Breakpoints */
    --breakpoint-xs-width: 400px;
    --breakpoint-s-width: 768px;
    --breakpoint-m-width: 1024px;
    --breakpoint-l-width: 1440px;
    --scrollbar-width: 17px;

    /* Theme variables */
    --theme-bg: var(--theme-elevation-0);
    --theme-input-bg: var(--theme-elevation-0);
    --theme-text: var(--theme-elevation-800);
    --theme-overlay: rgba(5, 5, 5, 0.5);
    --theme-baseline: 20px;
    --theme-baseline-body-size: 13px;

    /* Typography */
    --font-body: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    --font-serif: 'Georgia', 'Bitstream Charter', 'Charis SIL', Utopia, 'URW Bookman L', serif;
    --font-mono: 'SF Mono', Menlo, Consolas, Monaco, monospace;

    /* Border radius */
    --style-radius-s: 3px;
    --style-radius-m: 4px;
    --style-radius-l: 8px;

    /* Z-index layers */
    --z-popup: 10;
    --z-nav: 20;
    --z-modal: 30;
    --z-status: 40;

    /* Accessibility */
    --accessibility-outline: 2px solid var(--theme-text);
    --accessibility-outline-offset: 2px;

    /* Layout measurements */
    --gutter-h: calc(var(--base) * 3);
    --spacing-view-bottom: var(--gutter-h);
    --doc-controls-height: calc(var(--base) * 2.8);
    --app-header-height: calc(var(--base) * 2.8);
    --nav-width: 275px;
    --nav-trans-time: 150ms;

    /* Border color */
    --theme-border-color: var(--theme-elevation-150);
  }

  /* Responsive adjustments */
  @media (max-width: 1024px) {
    :root {
      --gutter-h: calc(var(--base) * 2);
      --app-header-height: calc(var(--base) * 2.4);
      --doc-controls-height: calc(var(--base) * 2.4);
    }
  }

  @media (max-width: 768px) {
    :root {
      --gutter-h: calc(var(--base) * 0.8);
      --spacing-view-bottom: calc(var(--base) * 2);
      --nav-width: 100vw;
    }
  }

  /* Dark theme support */
  html[data-theme='dark'] {
    --theme-bg: var(--theme-elevation-0);
    --theme-text: var(--theme-elevation-1000);
    --theme-input-bg: var(--theme-elevation-50);
    --theme-overlay: rgba(5, 5, 5, 0.75);
    color-scheme: dark;
  }

  /* Global admin panel styles */
  .payload-admin {
    font-family: var(--font-body);
    font-size: var(--theme-baseline-body-size);
    line-height: 1.5;
    color: var(--theme-text);
    background: var(--theme-bg);
  }

  /* Ensure proper box-sizing for all admin elements */
  .payload-admin *,
  .payload-admin *::before,
  .payload-admin *::after {
    box-sizing: border-box;
  }

  /* Admin panel layout container */
  .payload__app {
    min-height: 100vh;
    background: var(--theme-bg);
    color: var(--theme-text);
  }

  /* Navigation styles */
  .payload__nav {
    width: var(--nav-width);
    background: var(--theme-bg);
    border-right: 1px solid var(--theme-border-color);
    transition: transform var(--nav-trans-time) ease;
  }

  /* Header styles */
  .payload__header {
    height: var(--app-header-height);
    background: var(--theme-bg);
    border-bottom: 1px solid var(--theme-border-color);
    display: flex;
    align-items: center;
    padding: 0 var(--gutter-h);
  }

  /* Main content area */
  .payload__main {
    padding: var(--gutter-h);
    min-height: calc(100vh - var(--app-header-height));
  }

  /* Form elements restoration */
  .payload__field {
    margin-bottom: calc(var(--base) * 1.5);
  }

  .payload__field-label {
    display: block;
    margin-bottom: calc(var(--base) * 0.25);
    font-weight: 600;
    color: var(--theme-text);
    font-size: 0.875rem;
  }

  /* Input field styles */
  .payload__input {
    width: 100%;
    border: 1px solid var(--theme-elevation-150);
    border-radius: var(--style-radius-s);
    background: var(--theme-input-bg);
    color: var(--theme-elevation-800);
    font-size: 1rem;
    height: calc(var(--base) * 2);
    line-height: var(--base);
    padding: calc(var(--base) * 0.4) calc(var(--base) * 0.75);
    font-family: var(--font-body);
    transition: border-color 100ms cubic-bezier(0, 0.2, 0.2, 1),
                box-shadow 100ms cubic-bezier(0, 0.2, 0.2, 1),
                background-color 500ms cubic-bezier(0, 0.2, 0.2, 1);
  }

  .payload__input:hover {
    border-color: var(--theme-elevation-250);
  }

  .payload__input:focus,
  .payload__input:focus-within,
  .payload__input:active {
    border-color: var(--theme-elevation-400);
    outline: 0;
    box-shadow: 0 0 0 2px var(--theme-success-500);
  }

  .payload__input:disabled {
    background: var(--theme-elevation-100);
    color: var(--theme-elevation-400);
    box-shadow: none;
  }

  .payload__input:disabled:hover {
    border-color: var(--theme-elevation-150);
    box-shadow: none;
  }

  /* Button styles */
  .payload__button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: calc(var(--base) * 0.5) calc(var(--base) * 1);
    border: 1px solid var(--theme-elevation-150);
    border-radius: var(--style-radius-s);
    background: var(--theme-bg);
    color: var(--theme-text);
    font-family: var(--font-body);
    font-size: 0.875rem;
    font-weight: 500;
    text-decoration: none;
    cursor: pointer;
    transition: all 150ms ease;
    min-height: calc(var(--base) * 2);
  }

  .payload__button:hover {
    background: var(--theme-elevation-50);
    border-color: var(--theme-elevation-200);
  }

  .payload__button:focus {
    outline: var(--accessibility-outline);
    outline-offset: var(--accessibility-outline-offset);
  }

  .payload__button--primary {
    background: var(--theme-success-500);
    border-color: var(--theme-success-500);
    color: white;
  }

  .payload__button--primary:hover {
    background: var(--theme-success-600);
    border-color: var(--theme-success-600);
  }

  /* Card/Panel styles */
  .payload__card {
    background: var(--theme-bg);
    border: 1px solid var(--theme-border-color);
    border-radius: var(--style-radius-m);
    padding: calc(var(--base) * 1.5);
    box-shadow: 0 2px 2px -1px rgba(0, 0, 0, 0.1);
  }

  /* Table styles */
  .payload__table {
    width: 100%;
    border-collapse: collapse;
    background: var(--theme-bg);
  }

  .payload__table th,
  .payload__table td {
    padding: calc(var(--base) * 0.75);
    border-bottom: 1px solid var(--theme-border-color);
    text-align: left;
  }

  .payload__table th {
    background: var(--theme-elevation-50);
    font-weight: 600;
    color: var(--theme-text);
  }

  .payload__table tr:hover {
    background: var(--theme-elevation-25);
  }

  /* Modal styles */
  .payload__modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: var(--theme-overlay);
    z-index: var(--z-modal);
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .payload__modal-content {
    background: var(--theme-bg);
    border-radius: var(--style-radius-l);
    padding: calc(var(--base) * 2);
    max-width: 90vw;
    max-height: 90vh;
    overflow: auto;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
  }

  /* Dropdown/Select styles */
  .payload__select {
    position: relative;
    display: inline-block;
    width: 100%;
  }

  .payload__select-input {
    @extend .payload__input;
    padding-right: calc(var(--base) * 2);
    cursor: pointer;
  }

  .payload__select-dropdown {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: var(--theme-bg);
    border: 1px solid var(--theme-border-color);
    border-radius: var(--style-radius-s);
    box-shadow: 0 4px 8px -3px rgba(0, 0, 0, 0.1);
    z-index: var(--z-popup);
    max-height: 200px;
    overflow-y: auto;
  }

  .payload__select-option {
    padding: calc(var(--base) * 0.5) calc(var(--base) * 0.75);
    cursor: pointer;
    transition: background-color 150ms ease;
  }

  .payload__select-option:hover {
    background: var(--theme-elevation-50);
  }

  .payload__select-option--selected {
    background: var(--theme-success-100);
    color: var(--theme-success-800);
  }

  /* Notification/Toast styles */
  .payload__toast {
    position: fixed;
    top: calc(var(--base) * 2);
    right: calc(var(--base) * 2);
    background: var(--theme-bg);
    border: 1px solid var(--theme-border-color);
    border-radius: var(--style-radius-m);
    padding: calc(var(--base) * 1);
    box-shadow: 0 4px 8px -3px rgba(0, 0, 0, 0.1);
    z-index: var(--z-status);
    min-width: 300px;
  }

  .payload__toast--success {
    border-color: var(--theme-success-300);
    background: var(--theme-success-50);
    color: var(--theme-success-800);
  }

  .payload__toast--error {
    border-color: var(--theme-error-300);
    background: var(--theme-error-50);
    color: var(--theme-error-800);
  }

  .payload__toast--warning {
    border-color: var(--theme-warning-300);
    background: var(--theme-warning-50);
    color: var(--theme-warning-800);
  }

  /* Loading states */
  .payload__loading {
    display: inline-block;
    width: 20px;
    height: 20px;
    border: 2px solid var(--theme-elevation-200);
    border-radius: 50%;
    border-top-color: var(--theme-success-500);
    animation: payload-spin 1s ease-in-out infinite;
  }

  @keyframes payload-spin {
    to {
      transform: rotate(360deg);
    }
  }

  /* Sidebar/Navigation specific styles */
  .payload__nav-item {
    display: block;
    padding: calc(var(--base) * 0.5) calc(var(--base) * 1);
    color: var(--theme-text);
    text-decoration: none;
    border-radius: var(--style-radius-s);
    margin-bottom: calc(var(--base) * 0.25);
    transition: background-color 150ms ease;
  }

  .payload__nav-item:hover {
    background: var(--theme-elevation-50);
  }

  .payload__nav-item--active {
    background: var(--theme-success-100);
    color: var(--theme-success-800);
  }

  /* Form validation styles */
  .payload__field--error .payload__input {
    border-color: var(--theme-error-500);
    background-color: var(--theme-error-50);
  }

  .payload__field--error .payload__input:hover {
    border-color: var(--theme-error-500);
  }

  .payload__field-error {
    color: var(--theme-error-600);
    font-size: 0.75rem;
    margin-top: calc(var(--base) * 0.25);
  }

  /* Rich text editor styles */
  .payload__rich-text {
    border: 1px solid var(--theme-border-color);
    border-radius: var(--style-radius-s);
    background: var(--theme-input-bg);
  }

  .payload__rich-text-toolbar {
    border-bottom: 1px solid var(--theme-border-color);
    padding: calc(var(--base) * 0.5);
    background: var(--theme-elevation-25);
  }

  .payload__rich-text-content {
    padding: calc(var(--base) * 1);
    min-height: 200px;
  }

  /* File upload styles */
  .payload__upload {
    border: 2px dashed var(--theme-border-color);
    border-radius: var(--style-radius-m);
    padding: calc(var(--base) * 2);
    text-align: center;
    background: var(--theme-elevation-25);
    transition: border-color 150ms ease, background-color 150ms ease;
  }

  .payload__upload:hover {
    border-color: var(--theme-success-300);
    background: var(--theme-success-50);
  }

  .payload__upload--dragover {
    border-color: var(--theme-success-500);
    background: var(--theme-success-100);
  }

  /* Responsive mobile adjustments */
  @media (max-width: 768px) {
    .payload__nav {
      transform: translateX(-100%);
      position: fixed;
      top: 0;
      left: 0;
      height: 100vh;
      z-index: var(--z-nav);
    }

    .payload__nav--open {
      transform: translateX(0);
    }

    .payload__main {
      padding: calc(var(--base) * 1);
    }

    .payload__modal-content {
      margin: calc(var(--base) * 1);
      max-width: calc(100vw - var(--base) * 2);
    }
  }

  /* Ensure SVG icons are properly sized */
  .payload__icon {
    width: 16px;
    height: 16px;
    flex-shrink: 0;
    display: inline-block;
    vertical-align: middle;
  }

  /* Fix for floating elements and layout issues */
  .payload__layout-container {
    display: flex;
    flex-direction: column;
    min-height: 100vh;
  }

  .payload__content-wrapper {
    flex: 1;
    display: flex;
    flex-direction: column;
  }

  /* Ensure proper stacking context */
  .payload__admin-panel {
    position: relative;
    z-index: 1;
  }

  /* Override any conflicting Tailwind or frontend styles */
  .payload-admin .payload__button,
  .payload-admin .payload__input,
  .payload-admin .payload__card {
    all: revert;
    font-family: var(--font-body) !important;
  }
}